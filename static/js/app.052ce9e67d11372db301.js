webpackJsonp([1],{"0uye":function(t,e){},IcnI:function(t,e,a){"use strict";var n=a("qRXP"),r=a("9rMa"),o=a("bREw"),s=a("UjVw");n.default.use(r.a);var i=new r.a.Store({modules:{user:o.a},getters:s.a});e.a=i},M93x:function(t,e,a){"use strict";function n(t){a("0uye")}var r=a("NZSx"),o=a("zTBa"),s=a("/Xao"),i=n,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("qRXP"),r=a("z5U/"),o=a.n(r),s=a("rK6t"),i=(a.n(s),a("8BfZ")),c=a.n(i),l=a("M93x"),u=a("IcnI");n.default.use(o.a,{locale:c.a}),n.default.config.productionTip=!1,new n.default({el:"#app",store:u.a,template:"<App/>",components:{App:l.a}})},NZSx:function(t,e,a){"use strict";var n=a("4YfN"),r=a.n(n),o=a("9rMa");e.a={name:"app",computed:r()({},Object(o.b)({tableData:"tableData",signTableData:"signTableData",feeData:"feeData"})),watch:{"newFee.fee":function(t){this.newFee.gasPrice=parseInt(t/this.feeData.gasLimit*1e18)}},methods:{backUpHandler:function(){var t=this;this.$store.dispatch("postBackUp",this.backUpForm).then(function(){t.$message.success("备份成功"),t.backUpFlag=!1}).catch(function(e){t.$message.error(e)})},deleteHandler:function(t){var e=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("getDelete",t).then(function(){e.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc"),e.$message({type:"success",message:"删除成功!"})}).catch(function(t){e.$message({type:"error",message:t})})}).catch(function(){})},successFun:function(t){var e=this;200!==t.status?this.$message.error("上传失败"+t.message):(window.setInterval(function(){-1===--e.durationTime&&window.history.go(0)},1e3),this.$message.success({message:"上传成功,3秒后刷新页面",duration:3e3}))},errorFun:function(){this.$message.error("上传失败")},putFeeHandler:function(){var t=this;this.$store.dispatch("putFee",this.newFee).then(function(){t.$message.success("修改成功")}).catch()},handleCurrentChange:function(t){this.getAddressFun("pageSize=10&pageNum="+t+"&orderBy=created_at desc")},handleCurrentChange1:function(t){this.getSignTableHandler("pageSize=10&pageNum="+t+"&orderBy=created_at desc")},handleClick:function(t){this.$store.dispatch("getDownAddress",t).then().catch()},getAddressFun:function(t){this.$store.dispatch("getAddressTable",t).then(function(){}).catch(function(){})},createAddressFun:function(t){var e=this;if(this.loading=!0,!t.tokenType.trim()||!t.number)return void this.$message.error("请正确填写生成地址信息");this.$store.dispatch("getCreateAddress",t).then(function(){e.dialogFormVisible=!1,e.loading=!1,e.form.number="",e.form.tokenType="",e.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc"),e.$message({type:"success",message:"地址生成后，为防止此PC丢失或损坏，请务必备份数据库，并保存在其他介质上。",duration:1e4})}).catch(function(){e.loading=!1})},createAddress:function(){this.createAddressFun(this.form)},getSignTableHandler:function(t){this.$store.dispatch("getSignTable",t).then(function(){}).catch(function(){})}},mounted:function(){this.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc"),this.getSignTableHandler("pageSize=10&pageNum=1&orderBy=created_at desc")},data:function(){return{pageNum:1,loading:!1,backUpFlag:!1,backUpForm:{mysqlPath:"",password:""},durationTime:3,dialogFormVisible:!1,form:{number:"",tokenType:""},urlData:window.urlData.url,newFee:{}}}}},UjVw:function(t,e,a){"use strict";var n={tableData:function(t){return t.user.tableData},signTableData:function(t){return t.user.signTableData},feeData:function(t){return t.user.feeData}};e.a=n},bREw:function(t,e,a){"use strict";var n=a("rVsN"),r=a.n(n),o=a("xO/y"),s={state:{tableData:{},signTableData:{},feeData:{}},mutations:{SET_TABLE_DATA:function(t,e){t.tableData=e},SET_SIGN_TABLE_DATA:function(t,e){t.signTableData=e},SET_FEE:function(t,e){t.feeData=e}},actions:{getAddressTable:function(t,e){var a=t.commit;t.state;return new r.a(function(t,n){Object(o.f)(e).then(function(e){a("SET_TABLE_DATA",e.data),t()}).catch(function(t){n(t)})})},getCreateAddress:function(t,e){t.commit,t.state;return new r.a(function(t,a){Object(o.b)(e).then(function(){t()}).catch(function(t){a(t)})})},getDownAddress:function(t,e){t.commit,t.state;return new r.a(function(t,a){Object(o.d)(e).then(function(){t()}).catch(function(t){a(t)})})},getSignTable:function(t,e){var a=t.commit;t.state;return new r.a(function(t,n){Object(o.h)(e).then(function(e){a("SET_SIGN_TABLE_DATA",e.data),t()}).catch(function(t){n(t)})})},getFee:function(t,e){var a=t.commit;t.state;return new r.a(function(t,e){Object(o.e)().then(function(e){a("SET_FEE",e.data),t()}).catch(function(t){e(t)})})},putFee:function(t,e){t.commit,t.state;return new r.a(function(t,a){Object(o.g)(e).then(function(e){t()}).catch(function(t){a(t)})})},getDelete:function(t,e){t.commit,t.state;return new r.a(function(t,a){Object(o.c)(e).then(function(e){t()}).catch(function(t){a(t)})})},postBackUp:function(t,e){t.commit,t.state;return new r.a(function(t,a){Object(o.a)(e).then(function(e){t()}).catch(function(t){a(t)})})}}};e.a=s},rK6t:function(t,e){},vLgD:function(t,e,a){"use strict";var n=a("rVsN"),r=a.n(n),o=a("2sCs"),s=a.n(o),i=a("z5U/"),c=(a.n(i),s.a.create({baseURL:window.urlData.url,timeout:15e3}));c.interceptors.response.use(function(t){var e=t.data;return 40101===e.status?(window.location.href="#/login",r.a.reject("连接超时，请重新登录")):200!==e.status?(Object(i.Message)({message:e.data,type:"error",duration:5e3}),r.a.reject(e.message)):t.data},function(t){return Object(i.Message)({message:t.message,type:"error",duration:5e3}),r.a.reject(t)}),e.a=c},"xO/y":function(t,e,a){"use strict";function n(t){return Object(d.a)({url:"/order/mission?"+t,method:"get"})}function r(t){return Object(d.a)({url:"/order/account",method:"post",data:t})}function o(t){return Object(d.a)({url:"/order/mission/"+t,method:"get"})}function s(t){return Object(d.a)({url:"/order/sign?"+t,method:"get"})}function i(t){return Object(d.a)({url:"/order/gas",method:"get"})}function c(t){return Object(d.a)({url:"/order/gas",method:"put",data:t})}function l(t){return Object(d.a)({url:"/order/account/"+t,method:"delete"})}function u(t){return Object(d.a)({url:"/order/backup?mysqlPath="+encodeURIComponent(t.mysqlPath)+"&password="+encodeURIComponent(t.password),method:"get"})}e.f=n,e.b=r,e.d=o,e.h=s,e.e=i,e.g=c,e.c=l,e.a=u;var d=a("vLgD")},zTBa:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",[a("el-button",{on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("批量生成地址")]),t._v(" "),a("el-button",{on:{click:function(e){t.backUpFlag=!0}}},[t._v("备份数据库")])],1),t._v(" "),a("div",{staticClass:"table-style"},[a("h2",{staticClass:"name"},[t._v("地址列表")]),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.list,border:""}},[a("el-table-column",{attrs:{prop:"complete",label:"完成数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"生成时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"生成总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tokenType",label:"token类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{loading:e.row.complete<e.row.total,target:"_blank",href:t.urlData+"/order/mission/"+e.row.id}},[t._v("下载")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(a){t.deleteHandler(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"10px auto"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.tableData.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-upload",{staticStyle:{"margin-top":"20px"},attrs:{"on-success":t.successFun,"on-error":t.errorFun,action:t.urlData+"/order/sign",limit:1,"list-type":"picture"}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入待签名交易")])],1)],1),t._v(" "),a("h2",{staticClass:"name"},[t._v("签名列表")]),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.signTableData.list,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},t._l(e.row.totalBalance,function(e,n){return a("el-form-item",{key:n,attrs:{label:e.tokenType}},[a("span",[t._v(t._s(e.total))])])}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"complete",label:"完成数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"生成时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"生成总数"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small",loading:e.row.complete<e.row.total}},[a("a",{attrs:{target:"_blank",href:t.urlData+"/order/sign/"+e.row.id}},[t._v("下载")])])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"10px auto"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.signTableData.total},on:{"current-change":t.handleCurrentChange1}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{width:"300px",title:"批量生成地址",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"生成数量"}},[a("el-input",{attrs:{type:"number"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"token类型"}},[a("el-input",{model:{value:t.form.tokenType,callback:function(e){t.$set(t.form,"tokenType",e)},expression:"form.tokenType"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.createAddress}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{width:"300px",title:"备份数据库",visible:t.backUpFlag},on:{"update:visible":function(e){t.backUpFlag=e}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("备份成功后数据库下载路径：C:\\backup.sql")]),t._v(" "),a("el-form",{attrs:{model:t.backUpForm}},[a("el-form-item",{attrs:{label:"mysql数据库的安装路径"}},[a("el-input",{model:{value:t.backUpForm.mysqlPath,callback:function(e){t.$set(t.backUpForm,"mysqlPath",e)},expression:"backUpForm.mysqlPath"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"mysql数据库的密码"}},[a("el-input",{model:{value:t.backUpForm.password,callback:function(e){t.$set(t.backUpForm,"password",e)},expression:"backUpForm.password"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.backUpFlag=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.backUpHandler}},[t._v("确 定")])],1)],1)],1)},r=[],o={render:n,staticRenderFns:r};e.a=o}},["NHnr"]);
//# sourceMappingURL=app.052ce9e67d11372db301.js.map