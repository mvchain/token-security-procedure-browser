webpackJsonp([1],{IcnI:function(e,t,a){"use strict";var n=a("qRXP"),r=a("9rMa"),o=a("bREw"),i=a("UjVw");n.default.use(r.a);var s=new r.a.Store({modules:{user:o.a},getters:i.a});t.a=s},M93x:function(e,t,a){"use strict";function n(e){a("zpUX")}var r=a("NZSx"),o=a("gF2E"),i=a("/Xao"),s=n,c=i(r.a,o.a,!1,s,null,null);t.a=c.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("qRXP"),r=a("z5U/"),o=a.n(r),i=a("rK6t"),s=(a.n(i),a("8BfZ")),c=a.n(s),l=a("M93x"),u=a("IcnI");n.default.use(o.a,{locale:c.a}),n.default.config.productionTip=!1,new n.default({el:"#app",store:u.a,template:"<App/>",components:{App:l.a}})},NZSx:function(e,t,a){"use strict";var n=a("4YfN"),r=a.n(n),o=a("9rMa");t.a={name:"app",computed:r()({},Object(o.b)({tableData:"tableData",signTableData:"signTableData",feeData:"feeData"})),watch:{"newFee.fee":function(e){this.newFee.gasPrice=parseInt(e/this.feeData.gasLimit*1e18)}},methods:{deleteHandler:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("getDelete",e).then(function(){t.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc"),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){t.$message({type:"error",message:e})})}).catch(function(){})},successFun:function(e){var t=this;200!==e.code?this.$message.error("上传失败"+e.message):(window.setInterval(function(){-1===--t.durationTime&&window.history.go(0)},1e3),this.$message.success({message:"上传成功,3秒后刷新页面",duration:3e3}))},errorFun:function(){this.$message.error("上传失败")},putFeeHandler:function(){var e=this;this.$store.dispatch("putFee",this.newFee).then(function(){e.$message.success("修改成功")}).catch()},handleCurrentChange:function(e){this.getAddressFun("pageSize=10&pageNum="+e+"&orderBy=created_at desc")},handleCurrentChange1:function(e){this.getSignTableHandler("pageSize=10&pageNum="+e+"&orderBy=created_at desc")},handleClick:function(e){this.$store.dispatch("getDownAddress",e).then().catch()},getAddressFun:function(e){this.$store.dispatch("getAddressTable",e).then(function(){}).catch(function(){})},createAddressFun:function(e){var t=this;if(this.loading=!0,!e.tokenType.trim()||!e.number)return void this.$message.error("请正确填写生成地址信息");this.$store.dispatch("getCreateAddress",e).then(function(){t.dialogFormVisible=!1,t.loading=!1,t.form.number="",t.form.tokenType="",t.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc")}).catch(function(){t.loading=!1})},createAddress:function(){this.createAddressFun(this.form)},getSignTableHandler:function(e){this.$store.dispatch("getSignTable",e).then(function(){}).catch(function(){})}},mounted:function(){var e=this;this.getAddressFun("pageSize=10&pageNum=1&orderBy=created_at desc"),this.getSignTableHandler("pageSize=10&pageNum=1&orderBy=created_at desc"),this.$store.dispatch("getFee").then(function(){window.Object.assign(e.newFee,e.feeData)}).catch()},data:function(){return{pageNum:1,loading:!1,durationTime:3,dialogFormVisible:!1,form:{number:"",tokenType:""},urlData:window.urlData.url,newFee:{}}}}},UjVw:function(e,t,a){"use strict";var n={tableData:function(e){return e.user.tableData},signTableData:function(e){return e.user.signTableData},feeData:function(e){return e.user.feeData}};t.a=n},bREw:function(e,t,a){"use strict";var n=a("rVsN"),r=a.n(n),o=a("xO/y"),i={state:{tableData:{},signTableData:{},feeData:{}},mutations:{SET_TABLE_DATA:function(e,t){e.tableData=t},SET_SIGN_TABLE_DATA:function(e,t){e.signTableData=t},SET_FEE:function(e,t){e.feeData=t}},actions:{getAddressTable:function(e,t){var a=e.commit;e.state;return new r.a(function(e,n){Object(o.e)(t).then(function(t){a("SET_TABLE_DATA",t.data),e()}).catch(function(e){n(e)})})},getCreateAddress:function(e,t){e.commit,e.state;return new r.a(function(e,a){Object(o.a)(t).then(function(){e()}).catch(function(e){a(e)})})},getDownAddress:function(e,t){e.commit,e.state;return new r.a(function(e,a){Object(o.c)(t).then(function(){e()}).catch(function(e){a(e)})})},getSignTable:function(e,t){var a=e.commit;e.state;return new r.a(function(e,n){Object(o.g)(t).then(function(t){a("SET_SIGN_TABLE_DATA",t.data),e()}).catch(function(e){n(e)})})},getFee:function(e,t){var a=e.commit;e.state;return new r.a(function(e,t){Object(o.d)().then(function(t){a("SET_FEE",t.data),e()}).catch(function(e){t(e)})})},putFee:function(e,t){e.commit,e.state;return new r.a(function(e,a){Object(o.f)(t).then(function(t){e()}).catch(function(e){a(e)})})},getDelete:function(e,t){e.commit,e.state;return new r.a(function(e,a){Object(o.b)(t).then(function(t){e()}).catch(function(e){a(e)})})}}};t.a=i},gF2E:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("el-button",{on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("批量生成地址")])],1),e._v(" "),a("div",{staticClass:"table-style"},[a("h2",{staticClass:"name"},[e._v("地址列表")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.list,border:""}},[a("el-table-column",{attrs:{prop:"complete",label:"完成数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"生成时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"生成总数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tokenType",label:"token类型"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{loading:t.row.complete<t.row.total,target:"_blank",href:e.urlData+"/order/mission/"+t.row.id}},[e._v("下载")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(a){e.deleteHandler(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"10px auto"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-slider",{attrs:{min:252e-7,max:.002016,step:1e-6},model:{value:e.newFee.fee,callback:function(t){e.$set(e.newFee,"fee",t)},expression:"newFee.fee"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("span",{staticStyle:{"line-height":"35px","padding-left":"30px"}},[e._v("Fee: "+e._s(e.newFee.fee?e.newFee.fee.toFixed(8):0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:e.putFeeHandler}},[e._v("修改Fee")])],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-upload",{staticStyle:{"margin-top":"20px"},attrs:{"on-success":e.successFun,"on-error":e.errorFun,action:e.urlData+"/order/sign",limit:1,"list-type":"picture"}},[a("el-button",{attrs:{type:"primary"}},[e._v("导入待签名交易")])],1)],1),e._v(" "),a("h2",{staticClass:"name"},[e._v("签名列表")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.signTableData.list,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(t.row.totalBalance,function(t,n){return a("el-form-item",{key:n,attrs:{label:t.tokenType}},[a("span",[e._v(e._s(t.total))])])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"complete",label:"完成数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"生成时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"生成总数"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",loading:t.row.complete<t.row.total}},[a("a",{attrs:{target:"_blank",href:e.urlData+"/order/sign/"+t.row.id}},[e._v("下载")])])]}}])})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"10px auto"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:e.signTableData.total},on:{"current-change":e.handleCurrentChange1}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"300px",title:"批量生成地址",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"生成数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"token类型"}},[a("el-input",{model:{value:e.form.tokenType,callback:function(t){e.$set(e.form,"tokenType",t)},expression:"form.tokenType"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.createAddress}},[e._v("确 定")])],1)],1)],1)},r=[],o={render:n,staticRenderFns:r};t.a=o},rK6t:function(e,t){},vLgD:function(e,t,a){"use strict";var n=a("rVsN"),r=a.n(n),o=a("2sCs"),i=a.n(o),s=a("z5U/"),c=(a.n(s),i.a.create({baseURL:window.urlData.url,timeout:15e3}));c.interceptors.response.use(function(e){var t=e.data;return 40101===t.status?(window.location.href="#/login",r.a.reject("连接超时，请重新登录")):200!==t.status?(Object(s.Message)({message:t.data,type:"error",duration:5e3}),r.a.reject(t.message)):e.data},function(e){return Object(s.Message)({message:e.message,type:"error",duration:5e3}),r.a.reject(e)}),t.a=c},"xO/y":function(e,t,a){"use strict";function n(e){return Object(u.a)({url:"/order/mission?"+e,method:"get"})}function r(e){return Object(u.a)({url:"/order/account",method:"post",data:e})}function o(e){return Object(u.a)({url:"/order/mission/"+e,method:"get"})}function i(e){return Object(u.a)({url:"/order/sign?"+e,method:"get"})}function s(e){return Object(u.a)({url:"/order/gas",method:"get"})}function c(e){return Object(u.a)({url:"/order/gas",method:"put",data:e})}function l(e){return Object(u.a)({url:"/order/account/"+e,method:"delete"})}t.e=n,t.a=r,t.c=o,t.g=i,t.d=s,t.f=c,t.b=l;var u=a("vLgD")},zpUX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5722b14442f35509f8eb.js.map